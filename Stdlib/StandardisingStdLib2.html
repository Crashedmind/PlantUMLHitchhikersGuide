

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2. Standardising Standard Library &mdash; The Hitchhiker&#39;s Guide to PlantUML  documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/plantumllogo.png"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="https://platform.twitter.com/widgets.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="1. C4 Lightweight Software Architecture Description Method" href="../C4/c4.html" />
    <link rel="prev" title="1. Standard Library - What We Have And What We Want" href="stdlibRequirements.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> The Hitchhiker's Guide to PlantUML
          

          
            
            <img src="../_static/plantumllogo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about/AboutPlantUML.html">1. About PlantUML</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/AboutThisGuide.html">2. About this Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/future.html">3. Thoughts For The Future</a></li>
</ul>
<p class="caption"><span class="caption-text">Using Standard Library</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../NetworkUsersMachines/NetworkUsersMachines.html">1. Create a Diagram of a Typical Network</a></li>
<li class="toctree-l1"><a class="reference internal" href="../aws/aws.html">2. Create Real Life AWS Diagrams</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kubernetes/kubernetes.html">3. Kubernetes and Azure</a></li>
<li class="toctree-l1"><a class="reference internal" href="../gcp/gcp.html">4. Google Cloud Platform‎</a></li>
<li class="toctree-l1"><a class="reference internal" href="../C4/c4acme.html">5. Using C4 To Architect ACME Global Widget Production</a></li>
</ul>
<p class="caption"><span class="caption-text">PlantUML Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../PlantUMLSpriteLibraries/plantuml_sprites.html">1. Use Images in Diagrams</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scale/scale.html">2. Scaling Sprites</a></li>
<li class="toctree-l1"><a class="reference internal" href="../procedures/procedures.html">3. Procedures</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PassSpriteAsParameter/PassSpriteAsParameter.html">4. PassSpriteAsParameter</a></li>
</ul>
<p class="caption"><span class="caption-text">Understanding Standard Library</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="StdLibOverview.html">1. PlantUML Stdlib Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../StdlibUnderTheHood/StdlibUnderstanding.html">2. PlantUML Stdlib Under The Hood</a></li>
<li class="toctree-l1"><a class="reference internal" href="StandardisingStdLib.html">3. PlantUML Stdlib Under The Hood 2</a></li>
</ul>
<p class="caption"><span class="caption-text">Standardising Standard Library</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="stdlibRequirements.html">1. Standard Library - What We Have And What We Want</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2. Standardising Standard Library</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#plantuml-stdlib-terminology">2.1. Plantuml Stdlib Terminology</a></li>
<li class="toctree-l2"><a class="reference internal" href="#plantuml-stdlib-file-layout">2.2. Plantuml Stdlib File Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="#standardising-sprites">2.3. Standardising Sprites</a></li>
<li class="toctree-l2"><a class="reference internal" href="#standardising-icon-macro-api">2.4. Standardising Icon Macro API</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mode-example">2.5. Mode Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mode-demo">2.6. Mode Demo</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#main-features">2.6.1. Main features</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Annex Standard Library C4</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../C4/c4.html">1. C4 Lightweight Software Architecture Description Method</a></li>
<li class="toctree-l1"><a class="reference internal" href="../C4/C4Stdlib.html">2. Using PlantUML Stdlib C4 Lightweight Software Architecture Description Method</a></li>
</ul>
<p class="caption"><span class="caption-text">Annex</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../github/githubFileFinder.html">1. GitHub File Finder</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DocumentationAsCode/JourneyDocumentationASCode.html">2. Journey to Documentation as Code</a></li>
</ul>
<p class="caption"><span class="caption-text">ToDo</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../todo.html">1. To Do List</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">The Hitchhiker's Guide to PlantUML</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>2. Standardising Standard Library</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/Stdlib/StandardisingStdLib2.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="standardising-standard-library">
<h1>2. Standardising Standard Library<a class="headerlink" href="#standardising-standard-library" title="Permalink to this headline">¶</a></h1>
<div class="section" id="plantuml-stdlib-terminology">
<h2>2.1. Plantuml Stdlib Terminology<a class="headerlink" href="#plantuml-stdlib-terminology" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-given docutils align-default" id="id1">
<caption><span class="caption-text">Plantuml Stdlib Terminology</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Term</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>PlantUML Stdlib</strong></p></td>
<td><p>Plantuml Standard Library</p>
<blockquote>
<div><p>i.e. <a class="reference external" href="https://github.com/plantuml/plantuml-stdlib">https://github.com/plantuml/plantuml-stdlib</a></p>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p><strong>Library</strong></p></td>
<td><p>Plantuml stdlib consists of several icon  <strong>libraries</strong></p>
<blockquote>
<div><p>e.g. awslib, elastic, azure…</p>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p><strong>Category</strong></p></td>
<td><p>Each icon library consists one or more icons <strong>categories</strong></p>
<blockquote>
<div><p>Category is a subdir / grouping of icons within an icon library</p>
<p>some libraries don’t sub-divide the icons - so the category is the library</p>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p><strong>Icon</strong></p></td>
<td><p>Each category consists one or more <strong>icons</strong></p>
<blockquote>
<div><p>An Icon is a decorated sprite e.g. a coloured sprite in a rectangle with all the text and colour</p>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p><strong>Macro</strong></p></td>
<td><p>The pre-processor code applied to a sprite</p>
<blockquote>
<div><p>i.e. the define/definelong or function/procedure associated with a sprite to make it an icon</p>
<p>The call from the user puml file is a macro.</p>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p><strong>Sprite</strong></p></td>
<td><p>A 2D bitmap</p></td>
</tr>
<tr class="row-even"><td><p><strong>Diagram</strong></p></td>
<td><p>Everything you see. Everything represented by the puml file</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Style</strong></p></td>
<td><p>A collection of attributes that specify the appearance for a <strong>single icon</strong>.</p>
<blockquote>
<div><blockquote>
<div><p>A style can specify attributes such as font color, font size, background color, and much more.</p>
<p>Optional.</p>
</div></blockquote>
<p>If present, a style takes precedence over a theme</p>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p><strong>Theme</strong></p></td>
<td><p>A type of style that’s <strong>applied to the entire diagram</strong> - not just an individual icon.</p>
<blockquote>
<div><p>A collection of coordinated styles that determine the color, background attributes, and the fonts used on a layout.</p>
<p>Themes also enhance the appearance of a layout and give all your layouts a consistent look.</p>
<p>A theme does not control the placement or behavior of fields or objects on a layout.</p>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p><strong>Layout</strong></p></td>
<td><p>An arrangement of fields, objects, pictures, and layout parts that represents the way information is organized and presented.</p></td>
</tr>
</tbody>
</table>
<p><strong>Do we need individual sprite files? e.g. awslib/ARVR/Sumerian.puml and associated png (or svg), as all info is in puml file</strong></p>
</div>
<div class="section" id="plantuml-stdlib-file-layout">
<h2>2.2. Plantuml Stdlib File Layout<a class="headerlink" href="#plantuml-stdlib-file-layout" title="Permalink to this headline">¶</a></h2>
<div class="figure align-default">
<img alt="../_images/stdlibFileLayout.png" src="../_images/stdlibFileLayout.png" />
</div>
</div>
<div class="section" id="standardising-sprites">
<h2>2.3. Standardising Sprites<a class="headerlink" href="#standardising-sprites" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-given docutils align-default" id="id2">
<caption><span class="caption-text">Sprite Property</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Property</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>XxY</strong></p></td>
<td><p>128x128</p>
<blockquote>
<div><p>Sprite resolution SHOULD be this value or close to it.</p>
<p>Current sprite libraries range from ~40 to 256.</p>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p><strong>Levels</strong></p></td>
<td><p>16</p>
<blockquote>
<div><p>Sprite resolution SHOULD be this value.</p>
<p>4, 8, 16 are the possible options.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>ref: <a class="reference external" href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a> for SHOULD, MUST, MAY meaning</p>
</div>
</div>
<div class="section" id="standardising-icon-macro-api">
<h2>2.4. Standardising Icon Macro API<a class="headerlink" href="#standardising-icon-macro-api" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-given docutils align-default" id="id3">
<caption><span class="caption-text">Plantuml Stdlib Macro API Modes</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Mode</p></th>
<th class="head"><p>Details</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Standard</strong></p></td>
<td><p>Keyword arguments <strong>SHOULD</strong> be used for all parameters per todo ref</p>
<blockquote>
<div><p>This gives future proofing: as new parameters are added over time,</p>
<blockquote>
<div><p>user specifies only the parameter they care about</p>
<p>for the parameter they care about, only named keyword arguments are used</p>
</div></blockquote>
</div></blockquote>
</td>
</tr>
<tr class="row-odd"><td><p><strong>Legacy</strong></p></td>
<td><p>To work with a subset of <em>existing user diagrams</em>, new macros will enforce the parameter ordering per Type 2</p>
<blockquote>
<div><p>e.g. <em>!define AzureBatchAI(e_alias, e_label, e_techn, e_descr) AzureEntity(e_alias, e_label, e_techn, e_descr, AZURE_SYMBOL_COLOR, AzureBatchAI, AzureBatchAI)</em></p>
<p><strong>Existing macros in existing libraries should be kept, even when a newer keywords arguments mode is added</strong>
This ensures backwards compatibility of PlantUML Stdlib with existing user diagrams.</p>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p><strong>Mixed</strong></p></td>
<td><p>This mix of ordered parameters, with keyword parameters is also possible.</p>
<blockquote>
<div><p>This is not as future proof as Standard mode.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="mode-example">
<h2>2.5. Mode Example<a class="headerlink" href="#mode-example" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">#Legacy</span>
<span class="c1">#ordering does matter</span>
<span class="n">ExistingMacro</span><span class="p">(</span><span class="s2">&quot;alias&quot;</span><span class="p">,</span> <span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;techn&quot;</span><span class="p">,</span> <span class="s2">&quot;descr&quot;</span><span class="p">)</span>

<span class="c1">#Standard</span>
<span class="c1">#keyword arguments for all parameters</span>
<span class="c1">#ordering does NOT matter</span>
<span class="n">NewMacro</span><span class="p">(</span><span class="n">alias</span><span class="o">=</span><span class="s2">&quot;myalias&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;mylabel&quot;</span><span class="p">,</span> <span class="n">techn</span><span class="o">=</span><span class="s2">&quot;mytechn&quot;</span><span class="p">,</span> <span class="n">descr</span><span class="o">=</span><span class="s2">&quot;mydescr&quot;</span><span class="p">,</span> <span class="n">newParam1</span><span class="o">=</span><span class="s2">&quot;whatever&quot;</span><span class="p">,</span> <span class="n">newParam2</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">NewMacro</span><span class="p">(</span><span class="n">techn</span><span class="o">=</span><span class="s2">&quot;mytechn&quot;</span><span class="p">,</span> <span class="n">alias</span><span class="o">=</span><span class="s2">&quot;myalias&quot;</span><span class="p">,</span> <span class="n">descr</span><span class="o">=</span><span class="s2">&quot;mydescr&quot;</span><span class="p">,</span> <span class="n">newParam1</span><span class="o">=</span><span class="s2">&quot;whatever&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;mylabel&quot;</span><span class="p">,</span> <span class="n">newParam2</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="c1">#Mixed</span>
<span class="c1">#if we don&#39;t use keyword arguments then same as ExistingMacro</span>
<span class="c1">#ordering does matter</span>
<span class="n">NewMacro</span><span class="p">(</span><span class="s2">&quot;alias&quot;</span><span class="p">,</span> <span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;techn&quot;</span><span class="p">,</span> <span class="s2">&quot;descr&quot;</span><span class="p">)</span>

<span class="c1">#ordering does matter for existing parameters only</span>
<span class="n">NewMacro</span><span class="p">(</span><span class="s2">&quot;alias&quot;</span><span class="p">,</span> <span class="s2">&quot;label&quot;</span><span class="p">,</span> <span class="s2">&quot;techn&quot;</span><span class="p">,</span> <span class="s2">&quot;descr&quot;</span><span class="p">,</span> <span class="n">newParam1</span><span class="o">=</span><span class="s2">&quot;whatever&quot;</span><span class="p">,</span> <span class="n">newParam2</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="mode-demo">
<h2>2.6. Mode Demo<a class="headerlink" href="#mode-demo" title="Permalink to this headline">¶</a></h2>
<div class="section" id="main-features">
<h3>2.6.1. Main features<a class="headerlink" href="#main-features" title="Permalink to this headline">¶</a></h3>
<p>The demo uses most of the available Preprocessor features (<a class="reference external" href="https://plantuml.com/preprocessing">https://plantuml.com/preprocessing</a>)</p>
<ol class="arabic">
<li><p>User specifies only the parameters they care about. Preprocessor “Keywords arguments” used.</p></li>
<li><p>If user does not specify the parameter, then the default value is used. Preprocessor “Default argument value” used.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">`rectangle</span> <span class="pre">$alias</span> <span class="pre">&lt;&lt;$alias&gt;&gt;`</span></code> is in form <code class="docutils literal notranslate"><span class="pre">`shape</span> <span class="pre">alias</span> <span class="pre">&lt;&lt;stereo&gt;&gt;`</span></code> where skinparam can be specified for a stereo per <a class="reference external" href="https://plantuml.com/skinparam">https://plantuml.com/skinparam</a> last example</p></li>
<li><p>Dynamic invocation to somewhat decouple the sprite, parameters, and layout. <strong>Not as decoupled as I’d like</strong> as still need to pass all params for each sprite at definition time.</p></li>
<li><p><a class="reference external" href="https://plantuml.com/preprocessing">https://plantuml.com/preprocessing</a> Conditions to show</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>technology “[ ]” only if technology specified.</p></li>
<li><p>focus hi/lo/normal based on parameter which changes skinparams for the stereo (where alias is used as stereo)</p></li>
</ol>
</div></blockquote>
</li>
<li><p>‘””== $labeln”: “==” is creole syntax for “Large heading” (<a class="reference external" href="https://plantuml.com/creole">https://plantuml.com/creole</a>)</p></li>
<li><p>icon fields are laid out line-by-line for clarity</p></li>
<li><p>parameters supported are</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>$MySprite,</p></li>
<li><p>$alias,</p></li>
<li><p>$description=””,</p></li>
<li><p>$label=””,</p></li>
<li><p>$technology=””,</p></li>
<li><p>$scale=1,</p></li>
<li><p>$colour=”blue”,</p></li>
<li><p>$shape=”cloud”,</p></li>
<li><p>$textsize=”18”,</p></li>
<li><p>$focus=””</p></li>
</ol>
</div></blockquote>
</li>
</ol>
<p>In the full demo, the sprite decorator is selected by user via e.g. ‘!includeurl AWSPuml/SpriteDecorators.iuml!SPRITEDECORATOR_3.
This uses the “File List.iuml” block include Preprocessor feature</p>
<div class="figure align-center" id="id4">
<p class="plantuml">
<img src="../_images/plantuml-abb2c3c8c4b2f353058eabbc9c7f5eab7a37db6f.png" alt="&#64;startuml
'all sprites in a category would be included in an all.puml file for that category
'==================================================================================================


' Styling
' ##################################

!define TECHN_FONT_SIZE 12

skinparam defaultTextAlignment center

skinparam wrapWidth 200
skinparam maxMessageSize 150

skinparam rectangle {
    StereotypeFontSize 12
}


skinparam rectangle {
backgroundColor white
}
skinparam cloud {
backgroundColor white
}


!define LAYOUT_TOP_DOWN top to bottom direction
!define LAYOUT_LEFT_RIGHT left to right direction



sprite $Analytics [64x64/16z] {
xTK5WiGW38NXbn1WGkv_tjMwDwml__YqNrtmNRK8tISXfBj5W4UVhDpBTExBtVweRxvv5TfCz9eNnCqWrpo9bOrCwAelc_bzJYdNU0QWvlTAe0glJ14-tt7L
w5d_h6yBJ-hR_W9wMCSTNf0OiUFtVCUj23f-smjojmbSNiR_7BwRkz-dN7l-k7pz-IyXWC9cX13ap3CuxCRWCwyGsqsWPxvaIDn9a2zilqYxnJzv_sg-UQlp
KU_sc7b77-V1mHEFioLN-0iz0m
}

!unquoted procedure $ANALYTICS ($alias, $description=&quot;&quot;, $label=&quot;&quot;, $technology=&quot;&quot;, $scale=1, $colour=&quot;693CC5&quot;, $shape=&quot;rectangle&quot;, $textsize=&quot;12&quot;, $focus=&quot;&quot;)
%invoke_procedure($SpriteDecorator, &quot;$Analytics&quot;, $alias, $description, $label, $technology, $scale, $colour, $shape, $textsize, $focus)
!endprocedure


sprite $AppSync [64x64/16z] {
xPRdrkCW34IlGAYmx_-yMr89PwtZBxzzquF6rWoupFznSN6HuVONZ_n6x5ru8DtpX-eX85tjBze5PEGyZmcevxiNXJY_SmNTTXT-NjveHVK9US_vFGsTXqJa
h55w8GVfmuie7SbLCCPQRDp9G_F26jq066jpYBiU6pJMiK3CX5YpOSm2uRFTSNzxaBH4idBVvwuVs3ByIx4gVD_IqB6iN1URGQ_Qpsrxi2QIVuVbs43Izjcu
vxVIYMFxEbVqvdzhU6m1R7ajn3rhmOkY5VlSTBl_z4zNVbPlJrt7JkhVGp5KY9SF7R4LrVaPG7iR0MpBhvg_5CmRbZUCvWQvp5-nVZBotaZmmfUbAMIvVXsz
Br97sWt1vkntVRr-dNxtr-W3_9aVsf_7dMBryNlp5mtUXGQqk-lakFt8QNIHMvtxgsxzDHZ5kQifeFEOe3Zwj06K_bevEjErIPmukHTa9PUStwD8VA-EHZil
zwqq1p-vh2RqxVv1R9udJO2czfTHtB-KKxdSFzbNkTVtRnSN5ty
}

!unquoted procedure $APPSYNC ($alias, $description=&quot;&quot;, $label=&quot;&quot;, $technology=&quot;&quot;, $scale=1, $colour=&quot;CC2264&quot;, $shape=&quot;rectangle&quot;, $textsize=&quot;12&quot;, $focus=&quot;&quot;)

%invoke_procedure($SpriteDecorator, &quot;$AppSync&quot;, $alias, $description, $label, $technology, $scale, $colour, $shape, $textsize, $focus)

!endprocedure

sprite $ApplicationIntegration [64x64/16z] {
xTO5GiOm30NWbwIIXFlVbxL8AROrmzdxPVfDQ_YkNA67AK7AQZB0mvSRNupDtdikVtahxyHslH5eAkBJ4jcUBr0RSH6t4KNPzMG-qloJ6Erx36zLUVPOyPK0
nBr2L2M5VQ8-5_ViST_dgdkjOMyC4KYRrPoAhNgtp4pDLu31jkP7-J7Qh295lQBsrt7Caxyu_wDtslUG5dLBRKea8kZNZpPtm3CBi7d6WvUqUMavUFsK-bEt
kVuTl7vxzDfyfFoaVlsqpGddL9UzSTlOdBIjQTMxbPIrB-QsggxwEPI-pPTidazSlm24x77FEQj7VQJyKDp7-wzu_tc-_xx6FvVFjXgTV20Vvy4I2O_JKYZu
2xa5
}

!unquoted procedure $APPLICATIONINTEGRATION ($alias, $description=&quot;&quot;, $label=&quot;&quot;, $technology=&quot;&quot;, $scale=1, $colour=&quot;CC2264&quot;, $shape=&quot;rectangle&quot;, $textsize=&quot;12&quot;, $focus=&quot;&quot;)

%invoke_procedure($SpriteDecorator, &quot;$ApplicationIntegration&quot;, $alias, $description, $label, $technology, $scale, $colour, $shape, $textsize, $focus)

!endprocedure




'=============================DECORATORS==================================
' We define 1 or more sprite decorators in stdlib
' Define our decorators that we know now - and can easily define new ones in future with as manty new parameters 
' as we want, that we don't even know about yet
' Let's say SpriteDecorator is defined month 1, SpriteDecorator2 is defined month 2, SpriteDecorator3 is defined month 3
'
' https://plantuml.com/preprocessing Conditions to show technology &quot;[ ]&quot; only if technology specified
'&quot;&quot;== $label\n&quot;: &quot;==&quot; is creole syntax for &quot;Large heading&quot; https://plantuml.com/creole
' rectangle $alias &lt;&lt;$alias&gt;&gt; is in form &quot;shape alias &lt;&lt;stereo&gt;&gt;&quot; where skinparam can be specified for a stereo per https://plantuml.com/skinparam last example
' https://plantuml.com/preprocessing Conditions to show technology &quot;[ ]&quot; only if technology specified
' https://plantuml-documentation.readthedocs.io/en/latest/formatting/all-skin-params.html for all skinparams
'---------------------------------------------------



'add a new shape parameter + a textsize parameter
'---------------------------------------------------
!unquoted procedure $SpriteDecorator($MySprite, $alias, $description=&quot;&quot;, $label=&quot;&quot;, $technology=&quot;&quot;, $scale=1, $colour=&quot;blue&quot;, $shape=&quot;cloud&quot;, $textsize=&quot;18&quot;, $focus=&quot;&quot; )

!if ($focus == &quot;hi&quot;)
    skinparam rectangle {
        backgroundColor&lt;&lt;$alias&gt;&gt; yellow
        borderColor&lt;&lt;$alias&gt;&gt; yellow
        shadowing&lt;&lt;$alias&gt;&gt; true
        BorderThickness&lt;&lt;$alias&gt;&gt; 20
    }
!endif

!if  ($focus == &quot;lo&quot;)
    skinparam rectangle {
        backgroundColor&lt;&lt;$alias&gt;&gt; gainsboro
        borderColor&lt;&lt;$alias&gt;&gt; gainsboro
        shadowing&lt;&lt;$alias&gt;&gt; false
        
    }
!endif


!if ($technology == &quot;&quot;)
    $shape $alias &lt;&lt;$alias&gt;&gt; as &quot;
    == $label\n
    &lt;color:$colour&gt;&lt;$MySprite*$scale&gt;&lt;/color&gt;

    $description &quot;
!else 
    $shape $alias &lt;&lt;$alias&gt;&gt; as &quot;
    == $label\n
    &lt;color:$colour&gt;&lt;$MySprite*$scale&gt;&lt;/color&gt;
    //&lt;size:$textsize&gt;[$technology]&lt;/size&gt;//

    $description &quot;
!endif

!endprocedure


!$SpriteDecorator = &quot;$Sprite&quot;+ &quot;Decorator&quot;
'=============================END DECORATORS==================================

LAYOUT_LEFT_RIGHT

' User can specify what they want in order (legacy mode), or via named arugments (standard mode)
package modes {
'legacy mode
$ANALYTICS(&quot;legacy1&quot;, &quot;description&quot;, &quot;label&quot;, &quot;technology&quot;, 1)
$ANALYTICS(&quot;legacy2&quot;, &quot;desc&quot;, &quot;label&quot;, &quot;tech&quot;, 2, &quot;brown&quot;)

'mixed mode
$ANALYTICS(&quot;mixed&quot;, $shape=&quot;cloud&quot;)
'standard mode
$APPSYNC($alias=&quot;standard&quot;, $description=&quot;description&quot;, $label=&quot;label&quot;)
}

package scale {
$ANALYTICS($alias=&quot;x0.5&quot;, $scale=&quot;0.5&quot;)
$ANALYTICS($alias=&quot;x1&quot; )
$ANALYTICS($alias=&quot;x1.5&quot;, $scale=&quot;1.5&quot;)
'NOTE: if we use 1.5 instead of &quot;1.5&quot; then it's interpreted as .5 i.e. wrong

x0.5 --&gt;x1
x1--&gt; x1.5
}

'standard mode
package focus {
$APPSYNC($alias=&quot;lofocus&quot;, $description=&quot;description&quot;, $label=&quot;lo focus&quot;, $technology=&quot;technology&quot;, $focus=&quot;lo&quot;)
$APPSYNC($alias=&quot;normal&quot;, $description=&quot;description&quot;, $label=&quot;normal&quot;, $technology=&quot;technology&quot;)
$APPSYNC($alias=&quot;hifocus&quot;, $description=&quot;description&quot;, $label=&quot;hi focus&quot;, $technology=&quot;technology&quot;, $focus=&quot;hi&quot;)

lofocus --&gt;normal
normal--&gt; hifocus
}



footer %filename() rendered with PlantUML version %version()\nThe Hitchhiker’s Guide to PlantUML

&#64;enduml"/>
</p>
<p class="caption"><span class="caption-text"><em>&lt;API proposal demo&gt;</em></span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
<p>Full code applied to PlantUML Stdlib is in
<a class="reference external" href="https://github.com/Crashedmind/plantuml-stdlib2.0/commit/2a9b1f2621bc81c1f0dd0ec366c028fe60032dc0">https://github.com/Crashedmind/plantuml-stdlib2.0/commit/2a9b1f2621bc81c1f0dd0ec366c028fe60032dc0</a></p>
<p>Below is a standalone file version of it.</p>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172</pre></div></td><td class="code"><div class="highlight"><pre><span></span>@startuml
&#39;all sprites in a category would be included in an all.puml file for that category
&#39;==================================================================================================


&#39; Styling
&#39; ##################################

!define TECHN_FONT_SIZE 12

skinparam defaultTextAlignment center

skinparam wrapWidth 200
skinparam maxMessageSize 150

skinparam rectangle {
    StereotypeFontSize 12
}


skinparam rectangle {
backgroundColor white
}
skinparam cloud {
backgroundColor white
}


!define LAYOUT_TOP_DOWN top to bottom direction
!define LAYOUT_LEFT_RIGHT left to right direction



sprite $Analytics [64x64/16z] {
xTK5WiGW38NXbn1WGkv_tjMwDwml__YqNrtmNRK8tISXfBj5W4UVhDpBTExBtVweRxvv5TfCz9eNnCqWrpo9bOrCwAelc_bzJYdNU0QWvlTAe0glJ14-tt7L
w5d_h6yBJ-hR_W9wMCSTNf0OiUFtVCUj23f-smjojmbSNiR_7BwRkz-dN7l-k7pz-IyXWC9cX13ap3CuxCRWCwyGsqsWPxvaIDn9a2zilqYxnJzv_sg-UQlp
KU_sc7b77-V1mHEFioLN-0iz0m
}

<span class="hll">!unquoted procedure $ANALYTICS ($alias, $description=&quot;&quot;, $label=&quot;&quot;, $technology=&quot;&quot;, $scale=1, $colour=&quot;693CC5&quot;, $shape=&quot;rectangle&quot;, $textsize=&quot;12&quot;, $focus=&quot;&quot;)
</span>%invoke_procedure($SpriteDecorator, &quot;$Analytics&quot;, $alias, $description, $label, $technology, $scale, $colour, $shape, $textsize, $focus)
!endprocedure


sprite $AppSync [64x64/16z] {
xPRdrkCW34IlGAYmx_-yMr89PwtZBxzzquF6rWoupFznSN6HuVONZ_n6x5ru8DtpX-eX85tjBze5PEGyZmcevxiNXJY_SmNTTXT-NjveHVK9US_vFGsTXqJa
h55w8GVfmuie7SbLCCPQRDp9G_F26jq066jpYBiU6pJMiK3CX5YpOSm2uRFTSNzxaBH4idBVvwuVs3ByIx4gVD_IqB6iN1URGQ_Qpsrxi2QIVuVbs43Izjcu
vxVIYMFxEbVqvdzhU6m1R7ajn3rhmOkY5VlSTBl_z4zNVbPlJrt7JkhVGp5KY9SF7R4LrVaPG7iR0MpBhvg_5CmRbZUCvWQvp5-nVZBotaZmmfUbAMIvVXsz
Br97sWt1vkntVRr-dNxtr-W3_9aVsf_7dMBryNlp5mtUXGQqk-lakFt8QNIHMvtxgsxzDHZ5kQifeFEOe3Zwj06K_bevEjErIPmukHTa9PUStwD8VA-EHZil
zwqq1p-vh2RqxVv1R9udJO2czfTHtB-KKxdSFzbNkTVtRnSN5ty
}

!unquoted procedure $APPSYNC ($alias, $description=&quot;&quot;, $label=&quot;&quot;, $technology=&quot;&quot;, $scale=1, $colour=&quot;CC2264&quot;, $shape=&quot;rectangle&quot;, $textsize=&quot;12&quot;, $focus=&quot;&quot;)

%invoke_procedure($SpriteDecorator, &quot;$AppSync&quot;, $alias, $description, $label, $technology, $scale, $colour, $shape, $textsize, $focus)

!endprocedure

sprite $ApplicationIntegration [64x64/16z] {
xTO5GiOm30NWbwIIXFlVbxL8AROrmzdxPVfDQ_YkNA67AK7AQZB0mvSRNupDtdikVtahxyHslH5eAkBJ4jcUBr0RSH6t4KNPzMG-qloJ6Erx36zLUVPOyPK0
nBr2L2M5VQ8-5_ViST_dgdkjOMyC4KYRrPoAhNgtp4pDLu31jkP7-J7Qh295lQBsrt7Caxyu_wDtslUG5dLBRKea8kZNZpPtm3CBi7d6WvUqUMavUFsK-bEt
kVuTl7vxzDfyfFoaVlsqpGddL9UzSTlOdBIjQTMxbPIrB-QsggxwEPI-pPTidazSlm24x77FEQj7VQJyKDp7-wzu_tc-_xx6FvVFjXgTV20Vvy4I2O_JKYZu
2xa5
}

!unquoted procedure $APPLICATIONINTEGRATION ($alias, $description=&quot;&quot;, $label=&quot;&quot;, $technology=&quot;&quot;, $scale=1, $colour=&quot;CC2264&quot;, $shape=&quot;rectangle&quot;, $textsize=&quot;12&quot;, $focus=&quot;&quot;)

%invoke_procedure($SpriteDecorator, &quot;$ApplicationIntegration&quot;, $alias, $description, $label, $technology, $scale, $colour, $shape, $textsize, $focus)

!endprocedure




&#39;=============================DECORATORS==================================
&#39; We define 1 or more sprite decorators in stdlib
&#39; Define our decorators that we know now - and can easily define new ones in future with as manty new parameters 
&#39; as we want, that we don&#39;t even know about yet
&#39; Let&#39;s say SpriteDecorator is defined month 1, SpriteDecorator2 is defined month 2, SpriteDecorator3 is defined month 3
&#39;
&#39; https://plantuml.com/preprocessing Conditions to show technology &quot;[ ]&quot; only if technology specified
&#39;&quot;&quot;== $label\n&quot;: &quot;==&quot; is creole syntax for &quot;Large heading&quot; https://plantuml.com/creole
&#39; rectangle $alias &lt;&lt;$alias&gt;&gt; is in form &quot;shape alias &lt;&lt;stereo&gt;&gt;&quot; where skinparam can be specified for a stereo per https://plantuml.com/skinparam last example
&#39; https://plantuml.com/preprocessing Conditions to show technology &quot;[ ]&quot; only if technology specified
&#39; https://plantuml-documentation.readthedocs.io/en/latest/formatting/all-skin-params.html for all skinparams
&#39;---------------------------------------------------



&#39;add a new shape parameter + a textsize parameter
&#39;---------------------------------------------------
<span class="hll">!unquoted procedure $SpriteDecorator($MySprite, $alias, $description=&quot;&quot;, $label=&quot;&quot;, $technology=&quot;&quot;, $scale=1, $colour=&quot;blue&quot;, $shape=&quot;cloud&quot;, $textsize=&quot;18&quot;, $focus=&quot;&quot; )
</span>
!if ($focus == &quot;hi&quot;)
    skinparam rectangle {
        backgroundColor&lt;&lt;$alias&gt;&gt; yellow
        borderColor&lt;&lt;$alias&gt;&gt; yellow
        shadowing&lt;&lt;$alias&gt;&gt; true
        BorderThickness&lt;&lt;$alias&gt;&gt; 20
    }
!endif

!if  ($focus == &quot;lo&quot;)
    skinparam rectangle {
        backgroundColor&lt;&lt;$alias&gt;&gt; gainsboro
        borderColor&lt;&lt;$alias&gt;&gt; gainsboro
        shadowing&lt;&lt;$alias&gt;&gt; false
        
    }
!endif


<span class="hll">!if ($technology == &quot;&quot;)
</span><span class="hll">    $shape $alias &lt;&lt;$alias&gt;&gt; as &quot;
</span><span class="hll">    == $label\n
</span><span class="hll">    &lt;color:$colour&gt;&lt;$MySprite*$scale&gt;&lt;/color&gt;
</span><span class="hll">
</span><span class="hll">    $description &quot;
</span>!else 
    $shape $alias &lt;&lt;$alias&gt;&gt; as &quot;
    == $label\n
    &lt;color:$colour&gt;&lt;$MySprite*$scale&gt;&lt;/color&gt;
    //&lt;size:$textsize&gt;[$technology]&lt;/size&gt;//

    $description &quot;
!endif

!endprocedure


!$SpriteDecorator = &quot;$Sprite&quot;+ &quot;Decorator&quot;
&#39;=============================END DECORATORS==================================

LAYOUT_LEFT_RIGHT

<span class="hll">&#39; User can specify what they want in order (legacy mode), or via named arugments (standard mode)
</span>package modes {
&#39;legacy mode
$ANALYTICS(&quot;legacy1&quot;, &quot;description&quot;, &quot;label&quot;, &quot;technology&quot;, 1)
$ANALYTICS(&quot;legacy2&quot;, &quot;desc&quot;, &quot;label&quot;, &quot;tech&quot;, 2, &quot;brown&quot;)

&#39;mixed mode
$ANALYTICS(&quot;mixed&quot;, $shape=&quot;cloud&quot;)
&#39;standard mode
$APPSYNC($alias=&quot;standard&quot;, $description=&quot;description&quot;, $label=&quot;label&quot;)
}

package scale {
$ANALYTICS($alias=&quot;x0.5&quot;, $scale=&quot;0.5&quot;)
$ANALYTICS($alias=&quot;x1&quot; )
$ANALYTICS($alias=&quot;x1.5&quot;, $scale=&quot;1.5&quot;)
&#39;NOTE: if we use 1.5 instead of &quot;1.5&quot; then it&#39;s interpreted as .5 i.e. wrong

x0.5 --&gt;x1
x1--&gt; x1.5
}

&#39;standard mode
package focus {
$APPSYNC($alias=&quot;lofocus&quot;, $description=&quot;description&quot;, $label=&quot;lo focus&quot;, $technology=&quot;technology&quot;, $focus=&quot;lo&quot;)
$APPSYNC($alias=&quot;normal&quot;, $description=&quot;description&quot;, $label=&quot;normal&quot;, $technology=&quot;technology&quot;)
$APPSYNC($alias=&quot;hifocus&quot;, $description=&quot;description&quot;, $label=&quot;hi focus&quot;, $technology=&quot;technology&quot;, $focus=&quot;hi&quot;)

lofocus --&gt;normal
normal--&gt; hifocus
}



footer %filename() rendered with PlantUML version %version()\nThe Hitchhiker’s Guide to PlantUML

@enduml
</pre></div>
</td></tr></table></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../C4/c4.html" class="btn btn-neutral float-right" title="1. C4 Lightweight Software Architecture Description Method" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="stdlibRequirements.html" class="btn btn-neutral float-left" title="1. Standard Library - What We Have And What We Want" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>