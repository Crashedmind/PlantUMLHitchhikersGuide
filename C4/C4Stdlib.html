

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>4. Using PlantUML Stdlib C4 Lightweight Software Architecture Description Method &mdash; Playing with PlantUML  documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/plantumllogo.png"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="https://platform.twitter.com/widgets.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="5. StandardisingStdLib" href="../Stdlib/StandardisingStdLib.html" />
    <link rel="prev" title="3. Create a Diagram of a Typical Network" href="../NetworkUsersMachines/NetworkUsersMachines.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Playing with PlantUML
          

          
            
            <img src="../_static/plantumllogo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../AboutPlantUML.html">1. About PlantUML</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AboutThisGuide.html">2. About this Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">PlantUML Features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../PlantUMLSpriteLibraries/plantuml_sprites.html">1. Use Images in Diagrams</a></li>
<li class="toctree-l1"><a class="reference internal" href="../NamedArguments/scale.html">2. Scale</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PassSpriteAsParameter/PassSpriteAsParameter.html">3. PassSpriteAsParameter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../NamedArguments/NamedArguments.html">4. NamedArguments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../NamedArguments/MixingSyntax.html">5. Mixing syntax</a></li>
</ul>
<p class="caption"><span class="caption-text">Standard Library</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../PlantUMLSpriteLibraries/PlantUMLSprites.html">1. Understanding PlantUML Stdlib Sprite Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../PlantUMLSpriteLibraries/CreateSpriteLibrary.html">2. Create A Sprite library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../NetworkUsersMachines/NetworkUsersMachines.html">3. Create a Diagram of a Typical Network</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">4. Using PlantUML Stdlib C4 Lightweight Software Architecture Description Method</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#c4">4.1. C4</a></li>
<li class="toctree-l2"><a class="reference internal" href="#c4-plantuml">4.2. C4 PlantUML</a></li>
<li class="toctree-l2"><a class="reference internal" href="#c4-example-big-bank">4.3. C4 Example Big Bank</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#context">4.3.1. Context</a></li>
<li class="toctree-l3"><a class="reference internal" href="#context-with-more-detail">4.3.2. Context With More detail</a></li>
<li class="toctree-l3"><a class="reference internal" href="#container">4.3.3. Container</a></li>
<li class="toctree-l3"><a class="reference internal" href="#component">4.3.4. Component</a></li>
<li class="toctree-l3"><a class="reference internal" href="#class">4.3.5. Class</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#c4-acme-global-widget-production">4.4. C4 ACME Global Widget Production</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#c4-acme-context">4.4.1. C4 ACME Context</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#source">4.4.1.1. Source</a></li>
<li class="toctree-l4"><a class="reference internal" href="#play">4.4.1.2. Play</a></li>
<li class="toctree-l4"><a class="reference internal" href="#explore">4.4.1.3. Explore</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#c4-acme-container">4.4.2. C4 ACME Container</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id3">4.4.2.1. Source</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">4.4.2.2. Play</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id5">4.4.2.3. Explore</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#c4-acme-component">4.4.3. C4 ACME Component</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id6">4.4.3.1. Source</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7">4.4.3.2. Play</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">4.4.3.3. Explore</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Stdlib/StandardisingStdLib.html">5. StandardisingStdLib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Stdlib/ContributingToStdlib.html">6. ContributingToStdlib</a></li>
</ul>
<p class="caption"><span class="caption-text">New ways to Run PlantUML</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../GenerateDiagrams/GenerateDiagrams.html">1. Generate diagrams from PlantUML source files using GithubActions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../GenerateDiagrams/GenerateDiagramsLambda.html">2. Generate diagrams from PlantUML source files using AWS Lambda</a></li>
</ul>
<p class="caption"><span class="caption-text">Annex</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="c4.html">1. C4 Lightweight Software Architecture Description Method</a></li>
<li class="toctree-l1"><a class="reference internal" href="../DocumentationAsCode/JourneyDocumentationASCode.html">2. Journey to Documentation as Code</a></li>
</ul>
<p class="caption"><span class="caption-text">ToDo</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../todo.html">1. To Do List</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Playing with PlantUML</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>4. Using PlantUML Stdlib C4 Lightweight Software Architecture Description Method</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/C4/C4Stdlib.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="using-plantuml-stdlib-c4-lightweight-software-architecture-description-method">
<h1>4. Using PlantUML Stdlib C4 Lightweight Software Architecture Description Method<a class="headerlink" href="#using-plantuml-stdlib-c4-lightweight-software-architecture-description-method" title="Permalink to this headline">¶</a></h1>
<div class="section" id="c4">
<h2>4.1. C4<a class="headerlink" href="#c4" title="Permalink to this headline">¶</a></h2>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>See <a class="reference internal" href="c4.html#c4-label"><span class="std std-ref">C4 Lightweight Software Architecture Description Method</span></a> for details.</p>
</div>
<blockquote>
<div><p><em>Big design up front is dumb, but doing no design up front is even
dumber.</em> Dave Thomas</p>
</div></blockquote>
<p>The <a class="reference external" href="https://c4model.com/">C4 Model</a> is a lightweight software
architecture description method. It consists of a set of 4 diagrams that
describe the <strong>static</strong> structure of a software system.</p>
<p>Overall, it strives for clarity and communication of the story, and
follows <a class="reference external" href="http://www.ifp.illinois.edu/nabhcs/abstracts/shneiderman.html">Shneiderman’s
mantra</a>:</p>
<blockquote>
<div><p><em>Overview first, zoom and filter, then details-on-demand</em></p>
</div></blockquote>
<p>It is not formal UML e.g. the UML actor stickman is deliberately not
used as it causes confusion between a person or a system.</p>
</div>
<div class="section" id="c4-plantuml">
<h2>4.2. C4 PlantUML<a class="headerlink" href="#c4-plantuml" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/RicardoNiepel/C4-PlantUML">C4-PlantUML</a> is included in PlantUML Stdlib. It combines
the benefits of <a class="reference external" href="http://plantuml.com/">PlantUML</a> and the <a class="reference internal" href="c4.html#c4-label"><span class="std std-ref">C4 Lightweight Software Architecture Description Method</span></a> model for providing a simple way of describing
and communicating software architectures - especially during up-front design sessions - with an intuitive language using open source and platform independent tools.</p>
<p>It also supports <a class="reference external" href="https://github.com/RicardoNiepel/C4-PlantUML#snippets-for-visual-studio-code">C4 PlantUML Snippets for Visual Studio Code</a></p>
<blockquote>
<div><p><a class="reference external" href="https://github.com/plantuml/plantuml-stdlib/tree/master/C4">https://github.com/plantuml/plantuml-stdlib/tree/master/C4</a></p>
</div></blockquote>
</div>
<div class="section" id="c4-example-big-bank">
<h2>4.3. C4 Example Big Bank<a class="headerlink" href="#c4-example-big-bank" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The examples from <a class="reference external" href="https://github.com/RicardoNiepel/C4-PlantUML">C4-PlantUML</a> are used.</p>
<p>Person sprites are added to the customer box to emphasize the user in the diagrams.</p>
</div>
<div class="section" id="context">
<h3>4.3.1. Context<a class="headerlink" href="#context" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The top-level diagram shows the big boxes in the system i.e. the overall context in which a system operates.</p>
<p>The grey boxes are external i.e. not part of the system we’re defining.</p>
</div>
<div class="figure align-center">
<p class="plantuml">
<img src="../_images/plantuml-50c48432ca0487f37dda95df478551cfe27ef2ec.png" alt="&#64;startuml
!include &lt;c4/C4_Context.puml&gt;  

'ref http://plantuml.com/stdlib
!include &lt;office/Users/user.puml&gt;
!include &lt;office/Users/mobile_user.puml&gt;

'LAYOUT_WITH_LEGEND

title System Context diagram for Internet Banking System

Person(customer  , Customer , &quot;&lt;$user&gt; &lt;$mobile_user&gt;\n A customer of the bank, with personal bank accounts&quot; )

System(banking_system, &quot;Internet Banking System&quot;, &quot;Allows customers to view information about their bank accounts, and make payments.&quot;)

System_Ext(mail_system, &quot;E-mail system&quot;, &quot;The internal Microsoft Exchange e-mail system.&quot;)
System_Ext(mainframe, &quot;Mainframe Banking System&quot;, &quot;Stores all of the core banking information about customers, accounts, transactions, etc.&quot;)

Rel(customer, banking_system, &quot;Uses&quot;)
Rel_Back(customer, mail_system, &quot;Sends e-mails to&quot;)
Rel_Neighbor(banking_system, mail_system, &quot;Sends e-mails&quot;, &quot;SMTP&quot;)
Rel(banking_system, mainframe, &quot;Uses&quot;)
&#64;enduml
"/>
</p>
</div>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre><span></span>@startuml
!include &lt;c4/C4_Context.puml&gt;  

&#39;ref http://plantuml.com/stdlib
!include &lt;office/Users/user.puml&gt;
!include &lt;office/Users/mobile_user.puml&gt;

&#39;LAYOUT_WITH_LEGEND

title System Context diagram for Internet Banking System

Person(customer  , Customer , &quot;&lt;$user&gt; &lt;$mobile_user&gt;\n A customer of the bank, with personal bank accounts&quot; )

System(banking_system, &quot;Internet Banking System&quot;, &quot;Allows customers to view information about their bank accounts, and make payments.&quot;)

System_Ext(mail_system, &quot;E-mail system&quot;, &quot;The internal Microsoft Exchange e-mail system.&quot;)
System_Ext(mainframe, &quot;Mainframe Banking System&quot;, &quot;Stores all of the core banking information about customers, accounts, transactions, etc.&quot;)

Rel(customer, banking_system, &quot;Uses&quot;)
Rel_Back(customer, mail_system, &quot;Sends e-mails to&quot;)
Rel_Neighbor(banking_system, mail_system, &quot;Sends e-mails&quot;, &quot;SMTP&quot;)
Rel(banking_system, mainframe, &quot;Uses&quot;)
@enduml
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="context-with-more-detail">
<h3>4.3.2. Context With More detail<a class="headerlink" href="#context-with-more-detail" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>More detail is then added.</p>
</div>
<div class="figure align-center">
<p class="plantuml">
<img src="../_images/plantuml-3fefedb88f3289913cd9dfaa5bf2b04d52c8ac89.png" alt="&#64;startuml
!include &lt;c4/C4_Context.puml&gt;  

'ref http://plantuml.com/stdlib
!include &lt;office/Users/user.puml&gt;
!include &lt;office/Users/mobile_user.puml&gt;

'LAYOUT_TOP_DOWN
'LAYOUT_AS_SKETCH()
LAYOUT_WITH_LEGEND()

title System Landscape diagram for Big Bank plc

Person(customer  , Customer , &quot;&lt;$user&gt; &lt;$mobile_user&gt;\n A customer of the bank, with personal bank accounts&quot; )

Enterprise_Boundary(c0, &quot;Big Bank plc&quot;) {
    System(banking_system, &quot;Internet Banking System&quot;, &quot;Allows customers to view information about their bank accounts, and make payments.&quot;)

    System_Ext(atm, &quot;ATM&quot;, &quot;Allows customers to withdraw cash.&quot;)
    System_Ext(mail_system, &quot;E-mail system&quot;, &quot;The internal Microsoft Exchange e-mail system.&quot;)

    System_Ext(mainframe, &quot;Mainframe Banking System&quot;, &quot;Stores all of the core banking information about customers, accounts, transactions, etc.&quot;)

    Person_Ext(customer_service, &quot;Customer Service Staff&quot;, &quot;Customer service staff within the bank.&quot;)
    Person_Ext(back_office, &quot;Back Office Staff&quot;, &quot;Administration and support staff within the bank.&quot;)
}

Rel_Neighbor(customer, banking_system, &quot;Uses&quot;)
Rel_R(customer, atm, &quot;Withdraws cash using&quot;)
Rel_Back(customer, mail_system, &quot;Sends e-mails to&quot;)

Rel_R(customer, customer_service, &quot;Asks questions to&quot;, &quot;Telephone&quot;)

Rel_D(banking_system, mail_system, &quot;Sends e-mail using&quot;)
Rel_R(atm, mainframe, &quot;Uses&quot;)
Rel_R(banking_system, mainframe, &quot;Uses&quot;)
Rel_D(customer_service, mainframe, &quot;Uses&quot;)
Rel_U(back_office, mainframe, &quot;Uses&quot;)

Lay_D(atm, banking_system)

Lay_D(atm, customer)
Lay_U(mail_system, customer)
&#64;enduml
"/>
</p>
</div>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44</pre></div></td><td class="code"><div class="highlight"><pre><span></span>@startuml
!include &lt;c4/C4_Context.puml&gt;  

&#39;ref http://plantuml.com/stdlib
!include &lt;office/Users/user.puml&gt;
!include &lt;office/Users/mobile_user.puml&gt;

&#39;LAYOUT_TOP_DOWN
&#39;LAYOUT_AS_SKETCH()
LAYOUT_WITH_LEGEND()

title System Landscape diagram for Big Bank plc

Person(customer  , Customer , &quot;&lt;$user&gt; &lt;$mobile_user&gt;\n A customer of the bank, with personal bank accounts&quot; )

Enterprise_Boundary(c0, &quot;Big Bank plc&quot;) {
    System(banking_system, &quot;Internet Banking System&quot;, &quot;Allows customers to view information about their bank accounts, and make payments.&quot;)

    System_Ext(atm, &quot;ATM&quot;, &quot;Allows customers to withdraw cash.&quot;)
    System_Ext(mail_system, &quot;E-mail system&quot;, &quot;The internal Microsoft Exchange e-mail system.&quot;)

    System_Ext(mainframe, &quot;Mainframe Banking System&quot;, &quot;Stores all of the core banking information about customers, accounts, transactions, etc.&quot;)

    Person_Ext(customer_service, &quot;Customer Service Staff&quot;, &quot;Customer service staff within the bank.&quot;)
    Person_Ext(back_office, &quot;Back Office Staff&quot;, &quot;Administration and support staff within the bank.&quot;)
}

Rel_Neighbor(customer, banking_system, &quot;Uses&quot;)
Rel_R(customer, atm, &quot;Withdraws cash using&quot;)
Rel_Back(customer, mail_system, &quot;Sends e-mails to&quot;)

Rel_R(customer, customer_service, &quot;Asks questions to&quot;, &quot;Telephone&quot;)

Rel_D(banking_system, mail_system, &quot;Sends e-mail using&quot;)
Rel_R(atm, mainframe, &quot;Uses&quot;)
Rel_R(banking_system, mainframe, &quot;Uses&quot;)
Rel_D(customer_service, mainframe, &quot;Uses&quot;)
Rel_U(back_office, mainframe, &quot;Uses&quot;)

Lay_D(atm, banking_system)

Lay_D(atm, customer)
Lay_U(mail_system, customer)
@enduml
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="container">
<h3>4.3.3. Container<a class="headerlink" href="#container" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We then drill down into the “Internet Banking” box.</p>
</div>
<div class="figure align-center">
<p class="plantuml">
<img src="../_images/plantuml-6c5ab14609c0d2c62a602d34fb4d1156ee8ddac5.png" alt="&#64;startuml
'!includeurl https://raw.githubusercontent.com/RicardoNiepel/C4-PlantUML/master/C4_Container.puml
!include &lt;c4/C4_Container.puml&gt;  

'ref http://plantuml.com/stdlib
!include &lt;office/Users/user.puml&gt;
!include &lt;office/Users/mobile_user.puml&gt;

LAYOUT_WITH_LEGEND()


title Container diagram for Internet Banking System

Person(customer  , Customer , &quot;&lt;$user&gt; &lt;$mobile_user&gt;\n A customer of the bank, with personal bank accounts&quot; )

System_Boundary(c1, &quot;Internet Banking&quot;) {
    Container(web_app, &quot;Web Application&quot;, &quot;Java, Spring MVC&quot;, &quot;Delivers the static content and the Internet banking SPA&quot;)
    Container(spa, &quot;Single-Page App&quot;, &quot;JavaScript, Angular&quot;, &quot;Provides all the Internet banking functionality to cutomers via their web browser&quot;)
    Container(mobile_app, &quot;Mobile App&quot;, &quot;C#, Xamarin&quot;, &quot;Provides a limited subset of the Internet banking functionality to customers via their mobile device&quot;)
    ContainerDb(database, &quot;Database&quot;, &quot;SQL Database&quot;, &quot;Stores user registraion information, hased auth credentials, access logs, etc.&quot;)
    Container(backend_api, &quot;API Application&quot;, &quot;Java, Docker Container&quot;, &quot;Provides Internet banking functionality via API&quot;)
}

System_Ext(email_system, &quot;E-Mail System&quot;, &quot;The internal Microsoft Exchange system&quot;)
System_Ext(banking_system, &quot;Mainframe Banking System&quot;, &quot;Stores all of the core banking information about customers, accounts, transactions, etc.&quot;)

Rel(customer, web_app, &quot;Uses&quot;, &quot;HTTPS&quot;)
Rel(customer, spa, &quot;Uses&quot;, &quot;HTTPS&quot;)
Rel(customer, mobile_app, &quot;Uses&quot;)

Rel_Neighbor(web_app, spa, &quot;Delivers&quot;)
Rel(spa, backend_api, &quot;Uses&quot;, &quot;async, JSON/HTTPS&quot;)
Rel(mobile_app, backend_api, &quot;Uses&quot;, &quot;async, JSON/HTTPS&quot;)
Rel_Back_Neighbor(database, backend_api, &quot;Reads from and writes to&quot;, &quot;sync, JDBC&quot;)

Rel_Back(customer, email_system, &quot;Sends e-mails to&quot;)
Rel_Back(email_system, backend_api, &quot;Sends e-mails using&quot;, &quot;sync, SMTP&quot;)
Rel_Neighbor(backend_api, banking_system, &quot;Uses&quot;, &quot;sync/async, XML/HTTPS&quot;)


&#64;enduml

"/>
</p>
</div>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42</pre></div></td><td class="code"><div class="highlight"><pre><span></span>@startuml
&#39;!includeurl https://raw.githubusercontent.com/RicardoNiepel/C4-PlantUML/master/C4_Container.puml
!include &lt;c4/C4_Container.puml&gt;  

&#39;ref http://plantuml.com/stdlib
!include &lt;office/Users/user.puml&gt;
!include &lt;office/Users/mobile_user.puml&gt;

LAYOUT_WITH_LEGEND()


title Container diagram for Internet Banking System

Person(customer  , Customer , &quot;&lt;$user&gt; &lt;$mobile_user&gt;\n A customer of the bank, with personal bank accounts&quot; )

System_Boundary(c1, &quot;Internet Banking&quot;) {
    Container(web_app, &quot;Web Application&quot;, &quot;Java, Spring MVC&quot;, &quot;Delivers the static content and the Internet banking SPA&quot;)
    Container(spa, &quot;Single-Page App&quot;, &quot;JavaScript, Angular&quot;, &quot;Provides all the Internet banking functionality to cutomers via their web browser&quot;)
    Container(mobile_app, &quot;Mobile App&quot;, &quot;C#, Xamarin&quot;, &quot;Provides a limited subset of the Internet banking functionality to customers via their mobile device&quot;)
    ContainerDb(database, &quot;Database&quot;, &quot;SQL Database&quot;, &quot;Stores user registraion information, hased auth credentials, access logs, etc.&quot;)
    Container(backend_api, &quot;API Application&quot;, &quot;Java, Docker Container&quot;, &quot;Provides Internet banking functionality via API&quot;)
}

System_Ext(email_system, &quot;E-Mail System&quot;, &quot;The internal Microsoft Exchange system&quot;)
System_Ext(banking_system, &quot;Mainframe Banking System&quot;, &quot;Stores all of the core banking information about customers, accounts, transactions, etc.&quot;)

Rel(customer, web_app, &quot;Uses&quot;, &quot;HTTPS&quot;)
Rel(customer, spa, &quot;Uses&quot;, &quot;HTTPS&quot;)
Rel(customer, mobile_app, &quot;Uses&quot;)

Rel_Neighbor(web_app, spa, &quot;Delivers&quot;)
Rel(spa, backend_api, &quot;Uses&quot;, &quot;async, JSON/HTTPS&quot;)
Rel(mobile_app, backend_api, &quot;Uses&quot;, &quot;async, JSON/HTTPS&quot;)
Rel_Back_Neighbor(database, backend_api, &quot;Reads from and writes to&quot;, &quot;sync, JDBC&quot;)

Rel_Back(customer, email_system, &quot;Sends e-mails to&quot;)
Rel_Back(email_system, backend_api, &quot;Sends e-mails using&quot;, &quot;sync, SMTP&quot;)
Rel_Neighbor(backend_api, banking_system, &quot;Uses&quot;, &quot;sync/async, XML/HTTPS&quot;)


@enduml

</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="component">
<h3>4.3.4. Component<a class="headerlink" href="#component" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We then drill down into the “API Application” box.</p>
</div>
<div class="admonition-todo admonition" id="id1">
<p class="admonition-title">Todo</p>
<p>for some reason this diagram did not render to png - so include the png for now…</p>
<div class="figure align-center">
<p class="plantuml">
<img src="../_images/plantuml-6dec8d6f56288d43906e8a05efd543faafc36b90.png" alt="&#64;startuml

'!includeurl https://raw.githubusercontent.com/RicardoNiepel/C4-PlantUML/master/C4_Component.puml
!include &lt;c4/C4_Component.puml&gt;  


LAYOUT_WITH_LEGEND()


title Component diagram for Internet Banking System - API Application

Container(spa, &quot;Single Page Application&quot;, &quot;javascript and angular&quot;, &quot;Provides all the internet banking functionality to customers via their web browser.&quot;)
Container(ma, &quot;Mobile App&quot;, &quot;Xamarin&quot;, &quot;Provides a limited subset ot the internet banking functionality to customers via their mobile mobile device.&quot;)
ContainerDb(db, &quot;Database&quot;, &quot;Relational Database Schema&quot;, &quot;Stores user registration information, hashed authentication credentials, access logs, etc.&quot;)
System_Ext(mbs, &quot;Mainframe Banking System&quot;, &quot;Stores all of the core banking information about customers, accounts, transactions, etc.&quot;)

Container_Boundary(api, &quot;API Application&quot;) {
    Component(sign, &quot;Sign In Controller&quot;, &quot;MVC Rest Controlle&quot;, &quot;Allows users to sign in to the internet banking system&quot;)
    Component(accounts, &quot;Accounts Summary Controller&quot;, &quot;MVC Rest Controlle&quot;, &quot;Provides customers with a summory of their bank accounts&quot;)
    Component(security, &quot;Security Component&quot;, &quot;Spring Bean&quot;, &quot;Provides functionality related to singing in, changing passwords, etc.&quot;)
    Component(mbsfacade, &quot;Mainframe Banking System Facade&quot;, &quot;Spring Bean&quot;, &quot;A facade onto the mainframe banking system.&quot;)

    Rel(sign, security, &quot;Uses&quot;)
    Rel(accounts, mbsfacade, &quot;Uses&quot;)
    Rel(security, db, &quot;Read &amp; write to&quot;, &quot;JDBC&quot;)
    Rel(mbsfacade, mbs, &quot;Uses&quot;, &quot;XML/HTTPS&quot;)
}

Rel(spa, sign, &quot;Uses&quot;, &quot;JSON/HTTPS&quot;)
Rel(spa, accounts, &quot;Uses&quot;, &quot;JSON/HTTPS&quot;)

Rel(ma, sign, &quot;Uses&quot;, &quot;JSON/HTTPS&quot;)
Rel(ma, accounts, &quot;Uses&quot;, &quot;JSON/HTTPS&quot;)
&#64;enduml
"/>
</p>
</div>
</div>
<div class="figure align-default">
<img alt="../_images/C4_ComponentDiagramSample-bigbankplc.png" src="../_images/C4_ComponentDiagramSample-bigbankplc.png" />
</div>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34</pre></div></td><td class="code"><div class="highlight"><pre><span></span>@startuml

&#39;!includeurl https://raw.githubusercontent.com/RicardoNiepel/C4-PlantUML/master/C4_Component.puml
!include &lt;c4/C4_Component.puml&gt;  


LAYOUT_WITH_LEGEND()


title Component diagram for Internet Banking System - API Application

Container(spa, &quot;Single Page Application&quot;, &quot;javascript and angular&quot;, &quot;Provides all the internet banking functionality to customers via their web browser.&quot;)
Container(ma, &quot;Mobile App&quot;, &quot;Xamarin&quot;, &quot;Provides a limited subset ot the internet banking functionality to customers via their mobile mobile device.&quot;)
ContainerDb(db, &quot;Database&quot;, &quot;Relational Database Schema&quot;, &quot;Stores user registration information, hashed authentication credentials, access logs, etc.&quot;)
System_Ext(mbs, &quot;Mainframe Banking System&quot;, &quot;Stores all of the core banking information about customers, accounts, transactions, etc.&quot;)

Container_Boundary(api, &quot;API Application&quot;) {
    Component(sign, &quot;Sign In Controller&quot;, &quot;MVC Rest Controlle&quot;, &quot;Allows users to sign in to the internet banking system&quot;)
    Component(accounts, &quot;Accounts Summary Controller&quot;, &quot;MVC Rest Controlle&quot;, &quot;Provides customers with a summory of their bank accounts&quot;)
    Component(security, &quot;Security Component&quot;, &quot;Spring Bean&quot;, &quot;Provides functionality related to singing in, changing passwords, etc.&quot;)
    Component(mbsfacade, &quot;Mainframe Banking System Facade&quot;, &quot;Spring Bean&quot;, &quot;A facade onto the mainframe banking system.&quot;)

    Rel(sign, security, &quot;Uses&quot;)
    Rel(accounts, mbsfacade, &quot;Uses&quot;)
    Rel(security, db, &quot;Read &amp; write to&quot;, &quot;JDBC&quot;)
    Rel(mbsfacade, mbs, &quot;Uses&quot;, &quot;XML/HTTPS&quot;)
}

Rel(spa, sign, &quot;Uses&quot;, &quot;JSON/HTTPS&quot;)
Rel(spa, accounts, &quot;Uses&quot;, &quot;JSON/HTTPS&quot;)

Rel(ma, sign, &quot;Uses&quot;, &quot;JSON/HTTPS&quot;)
Rel(ma, accounts, &quot;Uses&quot;, &quot;JSON/HTTPS&quot;)
@enduml
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="class">
<h3>4.3.5. Class<a class="headerlink" href="#class" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>We could then add the Class diagrams for the different Components.</p>
</div>
<div class="admonition-todo admonition" id="id2">
<p class="admonition-title">Todo</p>
<p>upgrade docker plantuml to latest to get elk, and named args</p>
</div>
</div>
</div>
<div class="section" id="c4-acme-global-widget-production">
<h2>4.4. C4 ACME Global Widget Production<a class="headerlink" href="#c4-acme-global-widget-production" title="Permalink to this headline">¶</a></h2>
<p>Your mission, if you choose to accept it, is to design the ACME Global Widget Production System.</p>
<ol class="arabic simple">
<li><p>ACME has its own production sites, and uses 3rd party production sites.</p></li>
<li><p>All sites are connected to a central production host</p></li>
</ol>
<div class="section" id="c4-acme-context">
<h3>4.4.1. C4 ACME Context<a class="headerlink" href="#c4-acme-context" title="Permalink to this headline">¶</a></h3>
<div class="section" id="source">
<h4>4.4.1.1. Source<a class="headerlink" href="#source" title="Permalink to this headline">¶</a></h4>
<div class="figure align-center" id="id9">
<p class="plantuml">
<img src="../_images/plantuml-dffca1ea94c5620bf43ae3cafa30db98e59bd102.png" alt="&#64;startuml
!include  &lt;C4/C4_Context.puml&gt;
!include &lt;office/Users/user.puml&gt;

LAYOUT_WITH_LEGEND()


title Top level Context diagram for ACME Global Widget Production


Person(AcmeProdOwner, Acme Production Owner , &quot;&lt;$user&gt; \n Responsible for Production of widgets in ACME Production Site&quot; )
Person(3rdProdOwner, 3rdParty Production Owner , &quot;&lt;$user&gt; \n Responsible for Production of widgets in 3rdParty Production Site&quot; )


System_Boundary(Remote, &quot;Remote&quot;) {

    System(ProdSystemHost, &quot;Production Host&quot;, &quot;Drives widget Production\n Analyses widget Production data to create reports&quot;)
    System(Analytics, &quot;Analytics&quot;, &quot;Provides data analysis and a dashboard view data - including relevant Production data&quot;)
    System(Monitoring, &quot;Monitoring&quot;, &quot;Monitors Production Host\nUses AWS Services&quot;)
    System_Ext(SupplyChain, &quot;SupplyChain&quot;, &quot;Provides parts to make the widgets&quot;)
    System_Ext(InventoryTracking, &quot;InventoryTracking&quot;, &quot;Customer Reference&quot;)
    

}



Enterprise_Boundary(AcmeProd, &quot;ACME Production Site&quot;) {

    System(AcmeWorkStation1, &quot;WorkStation1&quot;, &quot; Production setup for a group of widgets&quot;)    
    System(AcmeWorkStation2, &quot;WorkStation2&quot;, &quot; Production setup for a group of widgets&quot;)        
    System(AcmeWorkStationN, &quot;WorkStationN&quot;, &quot; Production setup for a group of widgets&quot;)        

}


Enterprise_Boundary(3rdProd, &quot;3rdParty Production Site&quot;) {


    System(3rdWorkStation1, &quot;WorkStation1&quot;, &quot; Production setup for a group of widgets&quot;)    
    System(3rdWorkStation2, &quot;WorkStation2&quot;, &quot; Production setup for a group of widgets&quot;)        
    System(3rdWorkStationN, &quot;WorkStationN&quot;, &quot; Production setup for a group of widgets&quot;)     
}


Rel_U(AcmeWorkStation1, ProdSystemHost, &quot;Sends Production report for widget&quot;)
Rel_U(AcmeWorkStation2, ProdSystemHost, &quot;Sends Production report for widget&quot;)
Rel_U(AcmeWorkStationN, ProdSystemHost, &quot;Sends Production report for widget&quot;)


Rel_U(3rdWorkStation1, ProdSystemHost, &quot;Sends Production report for widget&quot;)
Rel_U(3rdWorkStation2, ProdSystemHost, &quot;Sends Production report for widget&quot;)
Rel_U(3rdWorkStationN, ProdSystemHost, &quot;Sends Production report for widget&quot;)





Rel_D(AcmeProdOwner, ProdSystemHost, &quot;Reviews Acme and 3rdParty site Production reports&quot;)
Rel_D(3rdProdOwner, ProdSystemHost, &quot;Reviews 3rdParty site Production reports&quot;)


Rel_D(Analytics, ProdSystemHost, &quot;Data Analysis&quot;)
Rel_D(SupplyChain, ProdSystemHost, &quot;Parts&quot;)
Rel_D(InventoryTracking, ProdSystemHost, &quot;Tracking&quot;)
Rel_D(Monitoring, ProdSystemHost, &quot;Monitoring&quot;)


&#64;enduml"/>
</p>
<p class="caption"><span class="caption-text"><em>C4 ACME Context</em></span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69</pre></div></td><td class="code"><div class="highlight"><pre><span></span>@startuml
!include  &lt;C4/C4_Context.puml&gt;
!include &lt;office/Users/user.puml&gt;

LAYOUT_WITH_LEGEND()


title Top level Context diagram for ACME Global Widget Production


Person(AcmeProdOwner, Acme Production Owner , &quot;&lt;$user&gt; \n Responsible for Production of widgets in ACME Production Site&quot; )
Person(3rdProdOwner, 3rdParty Production Owner , &quot;&lt;$user&gt; \n Responsible for Production of widgets in 3rdParty Production Site&quot; )


System_Boundary(Remote, &quot;Remote&quot;) {

    System(ProdSystemHost, &quot;Production Host&quot;, &quot;Drives widget Production\n Analyses widget Production data to create reports&quot;)
    System(Analytics, &quot;Analytics&quot;, &quot;Provides data analysis and a dashboard view data - including relevant Production data&quot;)
    System(Monitoring, &quot;Monitoring&quot;, &quot;Monitors Production Host\nUses AWS Services&quot;)
    System_Ext(SupplyChain, &quot;SupplyChain&quot;, &quot;Provides parts to make the widgets&quot;)
    System_Ext(InventoryTracking, &quot;InventoryTracking&quot;, &quot;Customer Reference&quot;)
    

}



Enterprise_Boundary(AcmeProd, &quot;ACME Production Site&quot;) {

    System(AcmeWorkStation1, &quot;WorkStation1&quot;, &quot; Production setup for a group of widgets&quot;)    
    System(AcmeWorkStation2, &quot;WorkStation2&quot;, &quot; Production setup for a group of widgets&quot;)        
    System(AcmeWorkStationN, &quot;WorkStationN&quot;, &quot; Production setup for a group of widgets&quot;)        

}


Enterprise_Boundary(3rdProd, &quot;3rdParty Production Site&quot;) {


    System(3rdWorkStation1, &quot;WorkStation1&quot;, &quot; Production setup for a group of widgets&quot;)    
    System(3rdWorkStation2, &quot;WorkStation2&quot;, &quot; Production setup for a group of widgets&quot;)        
    System(3rdWorkStationN, &quot;WorkStationN&quot;, &quot; Production setup for a group of widgets&quot;)     
}


Rel_U(AcmeWorkStation1, ProdSystemHost, &quot;Sends Production report for widget&quot;)
Rel_U(AcmeWorkStation2, ProdSystemHost, &quot;Sends Production report for widget&quot;)
Rel_U(AcmeWorkStationN, ProdSystemHost, &quot;Sends Production report for widget&quot;)


Rel_U(3rdWorkStation1, ProdSystemHost, &quot;Sends Production report for widget&quot;)
Rel_U(3rdWorkStation2, ProdSystemHost, &quot;Sends Production report for widget&quot;)
Rel_U(3rdWorkStationN, ProdSystemHost, &quot;Sends Production report for widget&quot;)





Rel_D(AcmeProdOwner, ProdSystemHost, &quot;Reviews Acme and 3rdParty site Production reports&quot;)
Rel_D(3rdProdOwner, ProdSystemHost, &quot;Reviews 3rdParty site Production reports&quot;)


Rel_D(Analytics, ProdSystemHost, &quot;Data Analysis&quot;)
Rel_D(SupplyChain, ProdSystemHost, &quot;Parts&quot;)
Rel_D(InventoryTracking, ProdSystemHost, &quot;Tracking&quot;)
Rel_D(Monitoring, ProdSystemHost, &quot;Monitoring&quot;)


@enduml
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="play">
<h4>4.4.1.2. Play<a class="headerlink" href="#play" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://www.plantuml.com/plantuml/uml/SoWkIImgAStDuNBAJrBGjLDmpCbCJbMmKiX8pSd9vt98pKi1IW80"><img alt="playbutton1" src="../_images/play2.png" style="width: 40px;" /></a> Press to play around with this diagram source online.</p>
</div>
<div class="section" id="explore">
<h4>4.4.1.3. Explore<a class="headerlink" href="#explore" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li><p>TODO</p></li>
</ol>
</div>
</div>
<div class="section" id="c4-acme-container">
<h3>4.4.2. C4 ACME Container<a class="headerlink" href="#c4-acme-container" title="Permalink to this headline">¶</a></h3>
<div class="figure align-center" id="id10">
<p class="plantuml">
<img src="../_images/plantuml-6daa405282097b9c0a604c1adeb5fd1e5fcaf105.png" alt="&#64;startuml
!include  &lt;C4/C4_Context.puml&gt;
!include  &lt;C4/C4_Container.puml&gt;
!include &lt;office/Users/user.puml&gt;

LAYOUT_WITH_LEGEND()
skinparam handwritten false


title Container Diagram for ACME Widget Workstation 



System_Boundary(WorkStation, &quot;Workstation&quot;) {
    Person(VfiOperator, Operator , &quot;&lt;$user&gt; \n On-site Operator who produces Widget&quot; )

    System(WorkStationPC, &quot;WorkStation PC&quot;, &quot;Drives the Production process. \nProvides feedback to operator. \nConnects to central Production system&quot;)    

    System(Hub, &quot;Hub&quot;, &quot;Connects Multiple Widgets&quot;)    

    System(Unit1, &quot;Unit1&quot;, &quot;Widget 1&quot;)    
    System(Unit2, &quot;Unit2&quot;, &quot;Widget 2&quot;)    
    System(UnitN, &quot;UnitN&quot;, &quot;Widget N&quot;)    
}

Rel_R(VfiOperator, WorkStationPC, &quot;Checks Production status&quot;)
Rel_D(WorkStationPC, Hub, &quot;Drive Production and Info Retrieval&quot;)
Rel(Hub, Unit1, &quot;Connect&quot;)
Rel(Hub, Unit2, &quot;Connect&quot;)
Rel(Hub, UnitN, &quot;Connect&quot;)
&#64;enduml"/>
</p>
<p class="caption"><span class="caption-text"><em>C4 ACME Workstation</em></span><a class="headerlink" href="#id10" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="id3">
<h4>4.4.2.1. Source<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31</pre></div></td><td class="code"><div class="highlight"><pre><span></span>@startuml
!include  &lt;C4/C4_Context.puml&gt;
!include  &lt;C4/C4_Container.puml&gt;
!include &lt;office/Users/user.puml&gt;

LAYOUT_WITH_LEGEND()
skinparam handwritten false


title Container Diagram for ACME Widget Workstation 



System_Boundary(WorkStation, &quot;Workstation&quot;) {
    Person(VfiOperator, Operator , &quot;&lt;$user&gt; \n On-site Operator who produces Widget&quot; )

    System(WorkStationPC, &quot;WorkStation PC&quot;, &quot;Drives the Production process. \nProvides feedback to operator. \nConnects to central Production system&quot;)    

    System(Hub, &quot;Hub&quot;, &quot;Connects Multiple Widgets&quot;)    

    System(Unit1, &quot;Unit1&quot;, &quot;Widget 1&quot;)    
    System(Unit2, &quot;Unit2&quot;, &quot;Widget 2&quot;)    
    System(UnitN, &quot;UnitN&quot;, &quot;Widget N&quot;)    
}

Rel_R(VfiOperator, WorkStationPC, &quot;Checks Production status&quot;)
Rel_D(WorkStationPC, Hub, &quot;Drive Production and Info Retrieval&quot;)
Rel(Hub, Unit1, &quot;Connect&quot;)
Rel(Hub, Unit2, &quot;Connect&quot;)
Rel(Hub, UnitN, &quot;Connect&quot;)
@enduml
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="id4">
<h4>4.4.2.2. Play<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://www.plantuml.com/plantuml/uml/SoWkIImgAStDuNBAJrBGjLDmpCbCJbMmKiX8pSd9vt98pKi1IW80"><img alt="playbutton1" src="../_images/play2.png" style="width: 40px;" /></a> Press to play around with this diagram source online.</p>
</div>
<div class="section" id="id5">
<h4>4.4.2.3. Explore<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li><p>TODO</p></li>
</ol>
</div>
</div>
<div class="section" id="c4-acme-component">
<h3>4.4.3. C4 ACME Component<a class="headerlink" href="#c4-acme-component" title="Permalink to this headline">¶</a></h3>
<div class="figure align-center" id="id11">
<p class="plantuml">
<img src="../_images/plantuml-af4be4bd4df2f4be25d00d9d9adb2a3a24097ceb.png" alt="&#64;startuml

'AWS stuff here
'================================
!includeurl &lt;aws/common&gt;
!includeurl &lt;aws/SDKs/Java/Java.puml&gt;
!includeurl &lt;aws/SDKs/Nodejs/Nodejs.puml&gt;

!includeurl &lt;aws/General/users/users.puml&gt;
!includeurl &lt;aws/General/client/client.puml&gt;
!includeurl &lt;aws/General/AWScloud/AWScloud.puml&gt;
!includeurl &lt;aws/General/mobileclient/mobileclient.puml&gt;

!includeurl &lt;aws/Database/AmazonRDS/AmazonRDS.puml&gt;
!includeurl &lt;aws/Database/AmazonRDS/DBinstance/DBinstance.puml&gt;
!includeurl &lt;aws/Database/AmazonRDS/MySQLDBinstance/MySQLDBinstance.puml&gt;

!includeurl &lt;aws/Compute/AWSElasticBeanstalk/AWSElasticBeanstalk.puml&gt;
!includeurl &lt;aws/Compute/AWSElasticBeanstalk/deployment/deployment.puml&gt;
!includeurl &lt;aws/Compute/AWSElasticBeanstalk/application/application.puml&gt;
!includeurl &lt;aws/Compute/ElasticLoadBalancing/ApplicationLoadBalancer/ApplicationLoadBalancer.puml&gt;
!includeurl &lt;aws/Compute/AWSLambda/AWSLambda.puml&gt;
!includeurl &lt;aws/Compute/AWSLambda/LambdaFunction/LambdaFunction.puml&gt;

!includeurl &lt;aws/Storage/AmazonS3/AmazonS3.puml&gt;
!includeurl &lt;aws/Storage/AmazonS3/bucket/bucket.puml&gt;
!includeurl &lt;aws/Storage/AmazonGlacier/AmazonGlacier.puml&gt;
!includeurl &lt;aws/Storage/AmazonGlacier/archive/archive.puml&gt;

!includeurl &lt;aws/SecurityIdentityCompliance/AWSIAM/AWSIAM.puml&gt;
!includeurl &lt;aws/SecurityIdentityCompliance/IAM/permissions/permissions.puml&gt;
!includeurl &lt;aws/SecurityIdentityCompliance/IAM/role/role.puml&gt;

!includeurl &lt;aws/MobileServices/AmazonCognito/AmazonCognito.puml&gt;
!includeurl &lt;aws/NetworkingContentDelivery/AmazonRoute53/AmazonRoute53.puml&gt;
!includeurl &lt;aws/SecurityIdentityCompliance/AWSIAM/AWSIAM.puml&gt;

!includeurl &lt;aws/Analytics/AmazonES/AmazonES.puml&gt;
!includeurl &lt;aws/ManagementTools/AmazonCloudWatch/AmazonCloudWatch.puml&gt;

'Elastic stuff here
'================================
!define ELASTIC_PUML ./plantuml-elastic

!include ELASTIC_PUML/apm/apm.puml
!include ELASTIC_PUML/app_search/app_search.puml
!include ELASTIC_PUML/beats/beats.puml
!include ELASTIC_PUML/cloud/cloud.puml
!include ELASTIC_PUML/cloud_in_kubernetes/cloud_in_kubernetes.puml
!include ELASTIC_PUML/code_search/code_search.puml
!include ELASTIC_PUML/ece/ece.puml
!include ELASTIC_PUML/eck/eck.puml
!include ELASTIC_PUML/elastic_search/elastic_search.puml
!include ELASTIC_PUML/endpoint/endpoint.puml
!include ELASTIC_PUML/enterprise_search/enterprise_search.puml
!include ELASTIC_PUML/kibana/kibana.puml
!include ELASTIC_PUML/logging/logging.puml
!include ELASTIC_PUML/logstash/logstash.puml
!include ELASTIC_PUML/maps/maps.puml
!include ELASTIC_PUML/metrics/metrics.puml
!include ELASTIC_PUML/siem/siem.puml
!include ELASTIC_PUML/site_search/site_search.puml
!include ELASTIC_PUML/stack/stack.puml
!include ELASTIC_PUML/uptime/uptime.puml


'change color of selected background shape https://plantuml.com/deployment-diagram
skinparam actorBackgroundColor White 
skinparam agentBackgroundColor White 
skinparam artifactBackgroundColor White 
skinparam boundaryBackgroundColor White 
skinparam cardBackgroundColor White 
skinparam cloudBackgroundColor White 
skinparam componentBackgroundColor White 
skinparam controlBackgroundColor White 
skinparam databaseBackgroundColor White 
skinparam entityBackgroundColor White 
skinparam fileBackgroundColor White 
skinparam folderBackgroundColor White 
skinparam frameBackgroundColor White 
skinparam interfaceBackgroundColor White 
skinparam nodeBackgroundColor White 
skinparam packageBackgroundColor White 
skinparam queueBackgroundColor White 
skinparam stackBackgroundColor White 
skinparam rectangleBackgroundColor White 
skinparam storageBackgroundColor White 
skinparam usecaseBackgroundColor White 



'To change background color to elastic green
'skinparam componentBackgroundColor 00BFB3 

AWSCLOUD(aws) {

    AMAZONS3(s3_bucket,&quot;Logs uploaded to here&quot;)

package Elastic {

    'add &quot;node&quot;, &quot;component&quot;, &quot;agent&quot; etc... to change background shape per https://plantuml.com/deployment-diagram
    'default is agent 
    ELASTIC_SEARCH(ElasticSearch, &quot;Search and Analyze&quot;,database)
    LOGSTASH(Logstash, &quot;Parse and Transform&quot;,node)
    KIBANA(Kibana, &quot;Visualize&quot;,agent) 
}

    s3_bucket -down-&gt; Logstash: Raw logs
    Logstash -right-&gt; ElasticSearch: Transformed Data
    ElasticSearch -right-&gt; Kibana: Data to View

}

&#64;enduml
"/>
</p>
<p class="caption"><span class="caption-text"><em>C4 ACME Component</em></span><a class="headerlink" href="#id11" title="Permalink to this image">¶</a></p>
</div>
<div class="figure align-center" id="id12">
<p class="plantuml">
<img src="../_images/plantuml-3f6e3851da811da008e80ae3d01cc6a53ef5a03f.png" alt=" 
!includeurl &lt;aws/common&gt;
!includeurl &lt;aws/SDKs/Java/Java.puml&gt;
!includeurl &lt;aws/SDKs/Nodejs/Nodejs.puml&gt;

!includeurl &lt;aws/General/users/users.puml&gt;
!includeurl &lt;aws/General/client/client.puml&gt;
!includeurl &lt;aws/General/AWScloud/AWScloud.puml&gt;
!includeurl &lt;aws/General/mobileclient/mobileclient.puml&gt;

!includeurl &lt;aws/Database/AmazonRDS/AmazonRDS.puml&gt;
!includeurl &lt;aws/Database/AmazonRDS/DBinstance/DBinstance.puml&gt;
!includeurl &lt;aws/Database/AmazonRDS/MySQLDBinstance/MySQLDBinstance.puml&gt;

!includeurl &lt;aws/Compute/AWSElasticBeanstalk/AWSElasticBeanstalk.puml&gt;
!includeurl &lt;aws/Compute/AWSElasticBeanstalk/deployment/deployment.puml&gt;
!includeurl &lt;aws/Compute/AWSElasticBeanstalk/application/application.puml&gt;
!includeurl &lt;aws/Compute/ElasticLoadBalancing/ApplicationLoadBalancer/ApplicationLoadBalancer.puml&gt;
!includeurl &lt;aws/Compute/AWSLambda/AWSLambda.puml&gt;
!includeurl &lt;aws/Compute/AWSLambda/LambdaFunction/LambdaFunction.puml&gt;

!includeurl &lt;aws/Storage/AmazonS3/AmazonS3.puml&gt;
!includeurl &lt;aws/Storage/AmazonS3/bucket/bucket.puml&gt;
!includeurl &lt;aws/Storage/AmazonGlacier/AmazonGlacier.puml&gt;
!includeurl &lt;aws/Storage/AmazonGlacier/archive/archive.puml&gt;

!includeurl &lt;aws/SecurityIdentityCompliance/AWSIAM/AWSIAM.puml&gt;
!includeurl &lt;aws/SecurityIdentityCompliance/IAM/permissions/permissions.puml&gt;
!includeurl &lt;aws/SecurityIdentityCompliance/IAM/role/role.puml&gt;

!includeurl &lt;aws/MobileServices/AmazonCognito/AmazonCognito.puml&gt;
!includeurl &lt;aws/NetworkingContentDelivery/AmazonRoute53/AmazonRoute53.puml&gt;
!includeurl &lt;aws/SecurityIdentityCompliance/AWSIAM/AWSIAM.puml&gt;

!includeurl &lt;aws/Analytics/AmazonES/AmazonES.puml&gt;
!includeurl &lt;aws/ManagementTools/AmazonCloudWatch/AmazonCloudWatch.puml&gt;
!includeurl &lt;aws/ManagementTools/AWSCloudTrail/AWSCloudTrail.puml&gt;

!includeurl &lt;aws/Messaging/AmazonSNS/AmazonSNS.puml&gt;

skinparam componentArrowColor Black
skinparam componentBackgroundColor White
skinparam nodeBackgroundColor White
skinparam agentBackgroundColor White
skinparam artifactBackgroundColor White





AWSCLOUD(awscloud){
 
    
    APPLICATIONLOADBALANCER(loadbalancer, &quot;ALB Logs&quot;)
    AMAZONS3(S3, &quot;S3 access Logs&quot;)
    AWSLAMBDA(Lambda, &quot;Lambda logs\nand metrics&quot;)
    AWSCLOUDTRAIL(AWSCloudTrail, &quot;API logs&quot;)
    
    AMAZONCLOUDWATCH(AmazonCloudWatch)
    AMAZONSNS(AmazonSNS, &quot;Send Notifications\n to Owner/Admin&quot;)


    loadbalancer --&gt; AmazonCloudWatch
    S3 --&gt; AmazonCloudWatch
    Lambda --&gt; AmazonCloudWatch
    AWSCloudTrail --&gt; AmazonCloudWatch
    
    AmazonCloudWatch --&gt; AmazonSNS
 
}
&#64;enduml"/>
</p>
<p class="caption"><span class="caption-text"><em>C4 ACME Component Monitoring</em></span><a class="headerlink" href="#id12" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="id6">
<h4>4.4.3.1. Source<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114</pre></div></td><td class="code"><div class="highlight"><pre><span></span>@startuml

&#39;AWS stuff here
&#39;================================
!includeurl &lt;aws/common&gt;
!includeurl &lt;aws/SDKs/Java/Java.puml&gt;
!includeurl &lt;aws/SDKs/Nodejs/Nodejs.puml&gt;

!includeurl &lt;aws/General/users/users.puml&gt;
!includeurl &lt;aws/General/client/client.puml&gt;
!includeurl &lt;aws/General/AWScloud/AWScloud.puml&gt;
!includeurl &lt;aws/General/mobileclient/mobileclient.puml&gt;

!includeurl &lt;aws/Database/AmazonRDS/AmazonRDS.puml&gt;
!includeurl &lt;aws/Database/AmazonRDS/DBinstance/DBinstance.puml&gt;
!includeurl &lt;aws/Database/AmazonRDS/MySQLDBinstance/MySQLDBinstance.puml&gt;

!includeurl &lt;aws/Compute/AWSElasticBeanstalk/AWSElasticBeanstalk.puml&gt;
!includeurl &lt;aws/Compute/AWSElasticBeanstalk/deployment/deployment.puml&gt;
!includeurl &lt;aws/Compute/AWSElasticBeanstalk/application/application.puml&gt;
!includeurl &lt;aws/Compute/ElasticLoadBalancing/ApplicationLoadBalancer/ApplicationLoadBalancer.puml&gt;
!includeurl &lt;aws/Compute/AWSLambda/AWSLambda.puml&gt;
!includeurl &lt;aws/Compute/AWSLambda/LambdaFunction/LambdaFunction.puml&gt;

!includeurl &lt;aws/Storage/AmazonS3/AmazonS3.puml&gt;
!includeurl &lt;aws/Storage/AmazonS3/bucket/bucket.puml&gt;
!includeurl &lt;aws/Storage/AmazonGlacier/AmazonGlacier.puml&gt;
!includeurl &lt;aws/Storage/AmazonGlacier/archive/archive.puml&gt;

!includeurl &lt;aws/SecurityIdentityCompliance/AWSIAM/AWSIAM.puml&gt;
!includeurl &lt;aws/SecurityIdentityCompliance/IAM/permissions/permissions.puml&gt;
!includeurl &lt;aws/SecurityIdentityCompliance/IAM/role/role.puml&gt;

!includeurl &lt;aws/MobileServices/AmazonCognito/AmazonCognito.puml&gt;
!includeurl &lt;aws/NetworkingContentDelivery/AmazonRoute53/AmazonRoute53.puml&gt;
!includeurl &lt;aws/SecurityIdentityCompliance/AWSIAM/AWSIAM.puml&gt;

!includeurl &lt;aws/Analytics/AmazonES/AmazonES.puml&gt;
!includeurl &lt;aws/ManagementTools/AmazonCloudWatch/AmazonCloudWatch.puml&gt;

&#39;Elastic stuff here
&#39;================================
!define ELASTIC_PUML ./plantuml-elastic

!include ELASTIC_PUML/apm/apm.puml
!include ELASTIC_PUML/app_search/app_search.puml
!include ELASTIC_PUML/beats/beats.puml
!include ELASTIC_PUML/cloud/cloud.puml
!include ELASTIC_PUML/cloud_in_kubernetes/cloud_in_kubernetes.puml
!include ELASTIC_PUML/code_search/code_search.puml
!include ELASTIC_PUML/ece/ece.puml
!include ELASTIC_PUML/eck/eck.puml
!include ELASTIC_PUML/elastic_search/elastic_search.puml
!include ELASTIC_PUML/endpoint/endpoint.puml
!include ELASTIC_PUML/enterprise_search/enterprise_search.puml
!include ELASTIC_PUML/kibana/kibana.puml
!include ELASTIC_PUML/logging/logging.puml
!include ELASTIC_PUML/logstash/logstash.puml
!include ELASTIC_PUML/maps/maps.puml
!include ELASTIC_PUML/metrics/metrics.puml
!include ELASTIC_PUML/siem/siem.puml
!include ELASTIC_PUML/site_search/site_search.puml
!include ELASTIC_PUML/stack/stack.puml
!include ELASTIC_PUML/uptime/uptime.puml


&#39;change color of selected background shape https://plantuml.com/deployment-diagram
skinparam actorBackgroundColor White 
skinparam agentBackgroundColor White 
skinparam artifactBackgroundColor White 
skinparam boundaryBackgroundColor White 
skinparam cardBackgroundColor White 
skinparam cloudBackgroundColor White 
skinparam componentBackgroundColor White 
skinparam controlBackgroundColor White 
skinparam databaseBackgroundColor White 
skinparam entityBackgroundColor White 
skinparam fileBackgroundColor White 
skinparam folderBackgroundColor White 
skinparam frameBackgroundColor White 
skinparam interfaceBackgroundColor White 
skinparam nodeBackgroundColor White 
skinparam packageBackgroundColor White 
skinparam queueBackgroundColor White 
skinparam stackBackgroundColor White 
skinparam rectangleBackgroundColor White 
skinparam storageBackgroundColor White 
skinparam usecaseBackgroundColor White 



&#39;To change background color to elastic green
&#39;skinparam componentBackgroundColor 00BFB3 

AWSCLOUD(aws) {

    AMAZONS3(s3_bucket,&quot;Logs uploaded to here&quot;)

package Elastic {

    &#39;add &quot;node&quot;, &quot;component&quot;, &quot;agent&quot; etc... to change background shape per https://plantuml.com/deployment-diagram
    &#39;default is agent 
    ELASTIC_SEARCH(ElasticSearch, &quot;Search and Analyze&quot;,database)
    LOGSTASH(Logstash, &quot;Parse and Transform&quot;,node)
    KIBANA(Kibana, &quot;Visualize&quot;,agent) 
}

    s3_bucket -down-&gt; Logstash: Raw logs
    Logstash -right-&gt; ElasticSearch: Transformed Data
    ElasticSearch -right-&gt; Kibana: Data to View

}

@enduml
</pre></div>
</td></tr></table></div>
<div class="highlight-default notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71</pre></div></td><td class="code"><div class="highlight"><pre><span></span> 
!includeurl &lt;aws/common&gt;
!includeurl &lt;aws/SDKs/Java/Java.puml&gt;
!includeurl &lt;aws/SDKs/Nodejs/Nodejs.puml&gt;

!includeurl &lt;aws/General/users/users.puml&gt;
!includeurl &lt;aws/General/client/client.puml&gt;
!includeurl &lt;aws/General/AWScloud/AWScloud.puml&gt;
!includeurl &lt;aws/General/mobileclient/mobileclient.puml&gt;

!includeurl &lt;aws/Database/AmazonRDS/AmazonRDS.puml&gt;
!includeurl &lt;aws/Database/AmazonRDS/DBinstance/DBinstance.puml&gt;
!includeurl &lt;aws/Database/AmazonRDS/MySQLDBinstance/MySQLDBinstance.puml&gt;

!includeurl &lt;aws/Compute/AWSElasticBeanstalk/AWSElasticBeanstalk.puml&gt;
!includeurl &lt;aws/Compute/AWSElasticBeanstalk/deployment/deployment.puml&gt;
!includeurl &lt;aws/Compute/AWSElasticBeanstalk/application/application.puml&gt;
!includeurl &lt;aws/Compute/ElasticLoadBalancing/ApplicationLoadBalancer/ApplicationLoadBalancer.puml&gt;
!includeurl &lt;aws/Compute/AWSLambda/AWSLambda.puml&gt;
!includeurl &lt;aws/Compute/AWSLambda/LambdaFunction/LambdaFunction.puml&gt;

!includeurl &lt;aws/Storage/AmazonS3/AmazonS3.puml&gt;
!includeurl &lt;aws/Storage/AmazonS3/bucket/bucket.puml&gt;
!includeurl &lt;aws/Storage/AmazonGlacier/AmazonGlacier.puml&gt;
!includeurl &lt;aws/Storage/AmazonGlacier/archive/archive.puml&gt;

!includeurl &lt;aws/SecurityIdentityCompliance/AWSIAM/AWSIAM.puml&gt;
!includeurl &lt;aws/SecurityIdentityCompliance/IAM/permissions/permissions.puml&gt;
!includeurl &lt;aws/SecurityIdentityCompliance/IAM/role/role.puml&gt;

!includeurl &lt;aws/MobileServices/AmazonCognito/AmazonCognito.puml&gt;
!includeurl &lt;aws/NetworkingContentDelivery/AmazonRoute53/AmazonRoute53.puml&gt;
!includeurl &lt;aws/SecurityIdentityCompliance/AWSIAM/AWSIAM.puml&gt;

!includeurl &lt;aws/Analytics/AmazonES/AmazonES.puml&gt;
!includeurl &lt;aws/ManagementTools/AmazonCloudWatch/AmazonCloudWatch.puml&gt;
!includeurl &lt;aws/ManagementTools/AWSCloudTrail/AWSCloudTrail.puml&gt;

!includeurl &lt;aws/Messaging/AmazonSNS/AmazonSNS.puml&gt;

skinparam componentArrowColor Black
skinparam componentBackgroundColor White
skinparam nodeBackgroundColor White
skinparam agentBackgroundColor White
skinparam artifactBackgroundColor White





AWSCLOUD(awscloud){
 
    
    APPLICATIONLOADBALANCER(loadbalancer, &quot;ALB Logs&quot;)
    AMAZONS3(S3, &quot;S3 access Logs&quot;)
    AWSLAMBDA(Lambda, &quot;Lambda logs\nand metrics&quot;)
    AWSCLOUDTRAIL(AWSCloudTrail, &quot;API logs&quot;)
    
    AMAZONCLOUDWATCH(AmazonCloudWatch)
    AMAZONSNS(AmazonSNS, &quot;Send Notifications\n to Owner/Admin&quot;)


    loadbalancer --&gt; AmazonCloudWatch
    S3 --&gt; AmazonCloudWatch
    Lambda --&gt; AmazonCloudWatch
    AWSCloudTrail --&gt; AmazonCloudWatch
    
    AmazonCloudWatch --&gt; AmazonSNS
 
}
@enduml
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="id7">
<h4>4.4.3.2. Play<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
<p><a class="reference external" href="http://www.plantuml.com/plantuml/uml/SoWkIImgAStDuNBAJrBGjLDmpCbCJbMmKiX8pSd9vt98pKi1IW80"><img alt="playbutton1" src="../_images/play2.png" style="width: 40px;" /></a> Press to play around with this diagram source online.</p>
</div>
<div class="section" id="id8">
<h4>4.4.3.3. Explore<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li><p>TODO</p></li>
</ol>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Stdlib/StandardisingStdLib.html" class="btn btn-neutral float-right" title="5. StandardisingStdLib" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../NetworkUsersMachines/NetworkUsersMachines.html" class="btn btn-neutral float-left" title="3. Create a Diagram of a Typical Network" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>